{% extends 'layout.html' %}
{% block title %}Zones d'emplacements{% endblock %}

{% block content %}
<h2 class="mb-4">📦 Zones d'emplacements</h2>

<!-- Formulaire ajout -->
<form method="post" action="/zones/ajouter" class="row g-3 mb-4">
  <div class="col-md-3">
    <input type="text" name="nom" class="form-control" placeholder="Nom de la zone" required>
  </div>
  <div class="col-md-2">
    <select name="type" class="form-select" required>
      <option value="" disabled selected>Type</option>
      <option value="port">Port</option>
      <option value="terrain">Terrain</option>
    </select>
  </div>
  <div class="col-md-2">
    <input type="color" name="couleur" class="form-control" value="#cce5ff">
  </div>
  <div class="col-md-2">
    <input type="number" name="nombre_places" class="form-control" placeholder="Nb places">
  </div>
  <div class="col-md-3">
    <button type="submit" class="btn btn-primary w-100">➕ Ajouter une zone</button>
  </div>
</form>

<!-- Tableau des zones -->
<table class="table table-bordered table-striped">
  <thead class="table-light">
    <tr>
      <th>Nom</th>
      <th>Type</th>
      <th>Couleur</th>
      <th>Nb emplacements</th>
    </tr>
  </thead>
  <tbody>
    {% for zone in zones %}
    <tr>
      <td>{{ zone.nom }}</td>
      <td>{{ zone.type }}</td>
      <td><span class="badge" style="background-color: {{ zone.couleur }}">{{ zone.couleur }}</span></td>
      <td>
        {{ zone.nombre_places }}
        <a href="/zones/{{ zone.id }}/emplacements" class="btn btn-sm btn-outline-primary ms-2">📍 Gérer</a>
      </td>
      <td>
        <a href="/zones/modifier/{{ zone.id }}" class="btn btn-sm btn-outline-secondary">✏️ Modifier</a>
        <a href="/zones/supprimer/{{ zone.id }}" class="btn btn-sm btn-outline-danger" onclick="return confirm('Supprimer cette zone ?')">🗑️ Supprimer</a>
      </td>
      
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
