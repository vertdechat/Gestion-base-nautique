{% extends 'layout.html' %}
{% block title %}Nouvelle maintenance{% endblock %}

{% block content %}
<h2 class="mb-4">
   Ajouter une maintenance
</h2>

<form method="post" class="row g-3">
  <div class="col-md-8">
    <label class="form-label">Titre</label>
    <input type="text" name="titre" class="form-control" required>
  </div>

  <div class="col-md-4">
    <label class="form-label">Catégorie</label>
    <input list="liste_categories" name="categorie" class="form-control" placeholder="Choisir ou saisir une catégorie">
    <datalist id="liste_categories">
      {% for cat in categories %}
        <option value="{{ cat }}">
      {% endfor %}
    </datalist>
  </div>
  

  <div class="col-md-12">
    <label class="form-label">Description</label>
    <textarea name="description" class="form-control" rows="3"></textarea>
  </div>

  <div class="col-md-4">
    <label class="form-label">Statut</label>
    <select name="statut" class="form-select">
      <option value="planifiée" selected>Planifiée</option>
      <option value="en cours">En cours</option>
      <option value="clôturée">Clôturée</option>
    </select>
  </div>

  <div class="col-md-4">
    <label class="form-label">Priorité</label>
    <select name="priorite" class="form-select">
      <option value="basse">Basse</option>
      <option value="normale" selected>Normale</option>
      <option value="haute">Haute</option>
    </select>
  </div>

  <div class="col-md-4">
    <label class="form-label">Bateau concerné</label>
    <select name="bateau_id" class="form-select">
      <option value="">Aucun</option>
      {% for b in bateaux %}
        <option value="{{ b.id }}">{{ b.nom }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="col-md-12">
    <label class="form-label">Tags</label><br>
    {% for tag in tags %}
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="tags" value="{{ tag.id }}" id="tag{{ tag.id }}">
        <label class="form-check-label" for="tag{{ tag.id }}">{{ tag.nom }}</label>
      </div>
    {% endfor %}
  </div>
  

  <div class="col-12">
    <button type="submit" class="btn btn-ghost">Enregistrer</button>
    <a href="/maintenance/liste" class="btn btn-ghost">Annuler</a>
  </div>
</form>

<br>
<br>
<br>
<br>
<br>
<br>
{% endblock %}
